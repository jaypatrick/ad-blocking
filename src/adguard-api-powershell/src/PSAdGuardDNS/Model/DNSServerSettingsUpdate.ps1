#
# AdGuard DNS API
# DNS API documentation
# Version: 1.11
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

DNS server settings update action

.PARAMETER AccessSettings
No description available.
.PARAMETER AutoConnectDevicesEnabled
Approval for auto-connecting devices through a specific link type
.PARAMETER BlockChromePrefetch
Block prefetch proxy in Google chrome
.PARAMETER BlockFirefoxCanary
If Firefox Canary should be blocked
.PARAMETER BlockPrivateRelay
Is private relay should be blocked
.PARAMETER BlockTtlSeconds
TTL for blocked request
.PARAMETER BlockingModeSettings
No description available.
.PARAMETER FilterListsSettings
No description available.
.PARAMETER IpLogEnabled
Consent to log IP addresses of requests
.PARAMETER ParentalControlSettings
No description available.
.PARAMETER ProtectionEnabled
Is protection enabled
.PARAMETER SafebrowsingSettings
No description available.
.PARAMETER UserRulesSettings
No description available.
.OUTPUTS

DNSServerSettingsUpdate<PSCustomObject>
#>

function Initialize-DNSServerSettingsUpdate {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${AccessSettings},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${AutoConnectDevicesEnabled},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${BlockChromePrefetch},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${BlockFirefoxCanary},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${BlockPrivateRelay},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${BlockTtlSeconds},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${BlockingModeSettings},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${FilterListsSettings},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IpLogEnabled},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${ParentalControlSettings},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${ProtectionEnabled},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${SafebrowsingSettings},
        [Parameter(Position = 12, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${UserRulesSettings}
    )

    Process {
        'Creating PSCustomObject: PSAdGuardDNS => DNSServerSettingsUpdate' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($BlockTtlSeconds -and $BlockTtlSeconds -gt 3600) {
          throw "invalid value for 'BlockTtlSeconds', must be smaller than or equal to 3600."
        }

        if ($BlockTtlSeconds -and $BlockTtlSeconds -lt 0) {
          throw "invalid value for 'BlockTtlSeconds', must be greater than or equal to 0."
        }


        $PSO = [PSCustomObject]@{
            "access_settings" = ${AccessSettings}
            "auto_connect_devices_enabled" = ${AutoConnectDevicesEnabled}
            "block_chrome_prefetch" = ${BlockChromePrefetch}
            "block_firefox_canary" = ${BlockFirefoxCanary}
            "block_private_relay" = ${BlockPrivateRelay}
            "block_ttl_seconds" = ${BlockTtlSeconds}
            "blocking_mode_settings" = ${BlockingModeSettings}
            "filter_lists_settings" = ${FilterListsSettings}
            "ip_log_enabled" = ${IpLogEnabled}
            "parental_control_settings" = ${ParentalControlSettings}
            "protection_enabled" = ${ProtectionEnabled}
            "safebrowsing_settings" = ${SafebrowsingSettings}
            "user_rules_settings" = ${UserRulesSettings}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to DNSServerSettingsUpdate<PSCustomObject>

.DESCRIPTION

Convert from JSON to DNSServerSettingsUpdate<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

DNSServerSettingsUpdate<PSCustomObject>
#>
function ConvertFrom-JsonToDNSServerSettingsUpdate {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: PSAdGuardDNS => DNSServerSettingsUpdate' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in DNSServerSettingsUpdate
        $AllProperties = ("access_settings", "auto_connect_devices_enabled", "block_chrome_prefetch", "block_firefox_canary", "block_private_relay", "block_ttl_seconds", "blocking_mode_settings", "filter_lists_settings", "ip_log_enabled", "parental_control_settings", "protection_enabled", "safebrowsing_settings", "user_rules_settings")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "access_settings"))) { #optional property not found
            $AccessSettings = $null
        } else {
            $AccessSettings = $JsonParameters.PSobject.Properties["access_settings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "auto_connect_devices_enabled"))) { #optional property not found
            $AutoConnectDevicesEnabled = $null
        } else {
            $AutoConnectDevicesEnabled = $JsonParameters.PSobject.Properties["auto_connect_devices_enabled"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "block_chrome_prefetch"))) { #optional property not found
            $BlockChromePrefetch = $null
        } else {
            $BlockChromePrefetch = $JsonParameters.PSobject.Properties["block_chrome_prefetch"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "block_firefox_canary"))) { #optional property not found
            $BlockFirefoxCanary = $null
        } else {
            $BlockFirefoxCanary = $JsonParameters.PSobject.Properties["block_firefox_canary"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "block_private_relay"))) { #optional property not found
            $BlockPrivateRelay = $null
        } else {
            $BlockPrivateRelay = $JsonParameters.PSobject.Properties["block_private_relay"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "block_ttl_seconds"))) { #optional property not found
            $BlockTtlSeconds = $null
        } else {
            $BlockTtlSeconds = $JsonParameters.PSobject.Properties["block_ttl_seconds"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "blocking_mode_settings"))) { #optional property not found
            $BlockingModeSettings = $null
        } else {
            $BlockingModeSettings = $JsonParameters.PSobject.Properties["blocking_mode_settings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "filter_lists_settings"))) { #optional property not found
            $FilterListsSettings = $null
        } else {
            $FilterListsSettings = $JsonParameters.PSobject.Properties["filter_lists_settings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ip_log_enabled"))) { #optional property not found
            $IpLogEnabled = $null
        } else {
            $IpLogEnabled = $JsonParameters.PSobject.Properties["ip_log_enabled"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "parental_control_settings"))) { #optional property not found
            $ParentalControlSettings = $null
        } else {
            $ParentalControlSettings = $JsonParameters.PSobject.Properties["parental_control_settings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "protection_enabled"))) { #optional property not found
            $ProtectionEnabled = $null
        } else {
            $ProtectionEnabled = $JsonParameters.PSobject.Properties["protection_enabled"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "safebrowsing_settings"))) { #optional property not found
            $SafebrowsingSettings = $null
        } else {
            $SafebrowsingSettings = $JsonParameters.PSobject.Properties["safebrowsing_settings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "user_rules_settings"))) { #optional property not found
            $UserRulesSettings = $null
        } else {
            $UserRulesSettings = $JsonParameters.PSobject.Properties["user_rules_settings"].value
        }

        $PSO = [PSCustomObject]@{
            "access_settings" = ${AccessSettings}
            "auto_connect_devices_enabled" = ${AutoConnectDevicesEnabled}
            "block_chrome_prefetch" = ${BlockChromePrefetch}
            "block_firefox_canary" = ${BlockFirefoxCanary}
            "block_private_relay" = ${BlockPrivateRelay}
            "block_ttl_seconds" = ${BlockTtlSeconds}
            "blocking_mode_settings" = ${BlockingModeSettings}
            "filter_lists_settings" = ${FilterListsSettings}
            "ip_log_enabled" = ${IpLogEnabled}
            "parental_control_settings" = ${ParentalControlSettings}
            "protection_enabled" = ${ProtectionEnabled}
            "safebrowsing_settings" = ${SafebrowsingSettings}
            "user_rules_settings" = ${UserRulesSettings}
        }

        return $PSO
    }

}

